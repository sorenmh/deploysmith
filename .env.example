# DeploySmith Configuration
# Copy this file to .env and update with your values

# =============================================================================
# Server Configuration
# =============================================================================

# Port for the HTTP server to listen on
PORT=8080

# Comma-separated list of API keys for authentication
# Generate secure keys with: openssl rand -hex 32
API_KEYS=sk_your_api_key_here

# =============================================================================
# Database Configuration
# =============================================================================

# Database type (currently only sqlite is supported)
DB_TYPE=sqlite

# Path to SQLite database file
DB_PATH=./data/smithd.db

# =============================================================================
# S3 Storage Configuration
# =============================================================================

# S3 bucket name for storing version manifests
S3_BUCKET=deploysmith-versions

# AWS region for S3 bucket
S3_REGION=us-east-1

# AWS credentials (required for AWS S3)
# For production, use IAM roles instead of access keys
AWS_ACCESS_KEY_ID=your_access_key_id
AWS_SECRET_ACCESS_KEY=your_secret_access_key

# Optional: S3 endpoint override (for MinIO or other S3-compatible storage)
# Leave empty for AWS S3
# For local MinIO: http://localhost:9000
AWS_ENDPOINT=

# =============================================================================
# GitOps Configuration
# =============================================================================

# Git repository URL for GitOps deployments
# Examples:
#   - SSH: git@github.com:org/gitops.git
#   - HTTPS: https://github.com/org/gitops.git
#   - HTTP with auth: http://user:pass@gitea:3000/org/gitops.git
GITOPS_REPO=git@github.com:your-org/gitops.git

# Path to SSH private key for Git authentication
# Generate with: ssh-keygen -t rsa -b 4096 -f ./scripts/ssh/id_rsa -N ""
GITOPS_SSH_KEY_PATH=./scripts/ssh/id_rsa

# Git user name for commits
GITOPS_USER_NAME=smithd

# Git user email for commits
GITOPS_USER_EMAIL=smithd@deploysmith.io

# =============================================================================
# Local Development (Docker Compose)
# =============================================================================
# Uncomment these for local development with Docker Compose

# MinIO (S3-compatible)
# S3_BUCKET=deploysmith-versions
# S3_REGION=us-east-1
# AWS_ACCESS_KEY_ID=minioadmin
# AWS_SECRET_ACCESS_KEY=minioadmin123
# AWS_ENDPOINT=http://localhost:9000

# Gitea (Git server)
# GITOPS_REPO=http://deploysmith:password123@localhost:3000/deploysmith/gitops.git
# GITOPS_SSH_KEY_PATH=./scripts/ssh/id_rsa

# =============================================================================
# Production Recommendations
# =============================================================================

# 1. Use AWS IAM roles instead of access keys when running in AWS
# 2. Store sensitive values in AWS Secrets Manager or HashiCorp Vault
# 3. Use SSH keys for Git authentication in production
# 4. Rotate API keys regularly
# 5. Enable CloudWatch logging and monitoring
# 6. Use RDS/PostgreSQL instead of SQLite for production
# 7. Enable S3 versioning and encryption
# 8. Implement proper backup strategy
